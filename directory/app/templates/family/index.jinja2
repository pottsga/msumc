{% extends '../base_admin.jinja2' %}

{% block content %}
  <h1>Families <a class="btn btn-primary" href="{{request.route_url('family.add')}}">Add Family</a></h1>

  <table class="table table-sm table-bordered" id="family_datatable" style="width: 100%;">
    <thead>
      <tr>
        <th>Last Name</th>
        <th>Active?</th>
        <th># Family Members</th>
      </tr>   
    </thead>
    <tbody>
      {% for family in families %}
        <tr>
          <td>
            <a href="{{request.route_url('family.view', family_id=family.id)}}">
              {{family.last_name}}
            </a>
          </td>
          <td>{{'Yes ✓' if family.active else 'No ✗'}}</td>
          <td>{{family_count.get(family.id, '')}}</td>
        </tr>
      {% endfor %}
    </tbody>

  </table>

{% endblock content %}

{% block scripts %}
  <script src="{{request.static_url('directory:app/static/js/family/index.js')}}"></script>
{% endblock scripts %}
