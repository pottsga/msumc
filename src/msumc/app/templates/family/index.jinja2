{% extends '../base_admin.jinja2' %}

{% block breadcrumb %}
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item active">Families</li>
    </ol>
  </nav>
{% endblock %}

{% block content %}
  <h1>Families <a class="btn btn-primary" href="{{request.route_url('family.add')}}">Add Family</a></h1>

  <table class="table table-sm table-bordered" id="family_datatable" style="width: 100%;">
    <thead>
      <tr>
        <th>Last Name</th>
        <th>Photo?</th>
        <th># Family Members</th>
      </tr>   
    </thead>
    <tbody>
      {% for family in families %}
        <tr>
          <td>
            <a href="{{request.route_url('family.view', family_id=family.id)}}">
              {{family.last_name}}
            </a>
          </td>
          <td>{{'Yes ✓' if family.photo_fp else 'No ✗'}}</td>
          <td>{{family_count.get(family.id, 0)}}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock content %}

{% block scripts %}
  <script src="{{request.static_url('msumc:app/static/js/family/index.js')}}"></script>
{% endblock scripts %}
